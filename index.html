<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>RedBack Rubbish Removal | Brisbane Southside & Logan</title>

  <meta name="description"
        content="Family-run rubbish removal in Brisbane Southside & Logan. We load it, we sweep up, and we dispose of it for you. No Mess ‚Äî No Stress." />

  <!-- Favicon / Logo -->
  <link rel="icon" type="image/png" href="images/logo.png" />

  <!-- Open Graph -->
  <meta property="og:title" content="RedBack Rubbish Removal" />
  <meta property="og:description" content="No Mess ‚Äî No Stress. Rubbish removal done for you in Brisbane Southside & Logan." />
  <meta property="og:image" content="images/logo.png" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://redbackrubbishremoval.com/" />

  <link rel="stylesheet" href="CSS/styles.css" />
</head>
<body class="dark-frame">
  <!-- HEADER ---------------------------------------------------->
  <header class="site-header">
    <div class="container header-inner">
      <a href="#top" class="brand">
        <img src="images/logo.png" alt="RedBack Rubbish Removal logo" class="brand-logo">
        <div class="brand-text">
          <span class="brand-name">RedBack Rubbish Removal</span>
          <span class="brand-sub">Brisbane Southside &amp; Logan</span>
        </div>
      </a>

      <div class="header-actions">
        <div class="header-contact">
          <span class="header-label">Call us</span>
          <a href="tel:0459272402" class="header-phone">0459 272 402</a>
        </div>
        <div class="header-buttons">
          <a href="sms:0459272402?&body=Hi%20RedBack,%20I'd%20like%20to%20text%20photos%20for%20a%20quote."
             class="btn btn-ghost">
            Text photos for quote
          </a>
          <a href="https://clienthub.getjobber.com/booking/5f0fd976-744c-4acf-a6a6-15a7427f134c"
             class="btn btn-primary" target="_blank" rel="noopener">
            Book online
          </a>
        </div>
      </div>
    </div>
  </header>

  <main id="top">
    <!-- HERO --------------------------------------------------->
    <section class="hero hero-family">
      <div class="container hero-inner">
        <div class="hero-copy">
          <span class="pill pill-light">Family-run ‚Ä¢ Fully insured ‚Ä¢ Local</span>

          <h1>Rubbish removal done for you ‚Äì fast, friendly &amp; affordable.</h1>

          <p class="hero-sub">
            We load it, we sweep up, and we dispose of it properly.<br>
            You get your space back ‚Äì with <strong>No Mess ‚Äî No Stress.</strong>
          </p>

          <div class="hero-cta">
            <a href="tel:0459272402" class="btn btn-primary">üìû Call now</a>
            <a href="sms:0459272402?&body=Hi%20RedBack,%20I'd%20like%20to%20text%20photos%20for%20a%20quote."
               class="btn btn-outline">
              üì∑ Text photos for a quote
            </a>
          </div>

          <div class="hero-trust">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <div class="trust-copy">
              <p>Trusted by Brisbane Southside &amp; Logan locals.</p>
              <p class="small">On-time, uniformed &amp; respectful in your home or workplace.</p>
            </div>
          </div>
        </div>

        <!-- New premium hero media block (desktop) -->
        <div class="hero-media circle-hero">
  <div class="circle-photo-wrap">
    <img src="images/family-cab.jpg" alt="RedBack family" />
  </div>
  <div class="hero-badge">Real family business ‚Ä¢ Real people ‚Ä¢ Real results</div>
</div>
 </div>
    </section>

    <!-- WHY / TRUST -------------------------------------------->
    <section class="section section-light">
      <div class="container">
        <div class="section-header">
          <h2>Why locals choose RedBack</h2>
          <p>We treat every job like it‚Äôs our own place ‚Äì fast, tidy, and respectful.</p>
        </div>

        <div class="grid-4">
          <article class="card">
            <h3>Family-run &amp; local</h3>
            <p>You‚Äôre dealing directly with a Brisbane Southside &amp; Logan family business ‚Äì not a big franchise.</p>
          </article>
          <article class="card">
            <h3>We do the heavy lifting</h3>
            <p>We load, lift, carry and sweep up so you don‚Äôt have to touch a thing.</p>
          </article>
          <article class="card">
            <h3>Clear upfront pricing</h3>
            <p>Trailer load pricing with no hidden fees. Tip fees included in your quote.</p>
          </article>
          <article class="card">
            <h3>Fully insured &amp; uniformed</h3>
            <p>Professional appearance, fully insured, and respectful on every property.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- SERVICES ----------------------------------------------->
    <section class="section">
      <div class="container">
        <div class="section-header">
          <h2>Rubbish removal services</h2>
          <p>From single items to full cleanouts ‚Äì if it fits in our trailer, we‚Äôll handle it.</p>
        </div>

        <div class="grid-3">
          <article class="card service-card">
            <h3>Household cleanouts</h3>
            <p>Old furniture, broken appliances, general household junk and more.</p>
            <ul>
              <li>Garage &amp; shed cleanouts</li>
              <li>End-of-lease rubbish</li>
              <li>Deceased estate support</li>
            </ul>
          </article>

          <article class="card service-card">
            <h3>Yard &amp; green waste</h3>
            <p>Branches, clippings, old timber, outdoor junk and garden waste.</p>
            <ul>
              <li>Storm cleanups</li>
              <li>Overgrown yard clear-outs</li>
              <li>Outdoor furniture removal</li>
            </ul>
          </article>

          <article class="card service-card">
            <h3>Real estate &amp; rentals</h3>
            <p>Fast, reliable service for agents, landlords and body corporates.</p>
            <ul>
              <li>Pre-sale cleanups</li>
              <li>Post-tenant rubbish removal</li>
              <li>Garage &amp; storage unit clear-outs</li>
            </ul>
          </article>
        </div>

        <div class="grid-3 services-extra">
          <article class="card service-card">
            <h3>Office &amp; commercial</h3>
            <p>Old desks, shelving, shop fittings and general commercial waste.</p>
          </article>

          <article class="card service-card">
            <h3>A ‚Üí B item delivery</h3>
            <p>Need something moved from A to B? If it fits in the trailer, we can shift it.</p>
            <p class="small">Great for marketplace or bulky-item purchases.</p>
          </article>

          <article class="card service-card">
            <h3>Custom jobs</h3>
            <p>Not sure if we can take it? Just send us a photo and we‚Äôll confirm.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- PRICING ------------------------------------------------->
    <section class="section section-cream" id="pricing">
      <div class="container">
        <div class="section-header">
          <h2>Simple trailer-load pricing</h2>
          <p>Honest, upfront pricing based on how much space your rubbish takes in our trailer.</p>
        </div>

        <div class="grid-3 pricing-grid">
          <article class="card card-pricing">
            <div class="pill pill-soft">Light loads</div>
            <h3>Quarter load</h3>
            <p class="price">From $130</p>
            <p>Perfect for a few bulky items or a small cleanout.</p>
            <ul>
              <li>Includes loading &amp; sweep up</li>
              <li>Tip fees included</li>
              <li>Ideal for single rooms or light jobs</li>
            </ul>
          </article>

          <article class="card card-pricing card-pricing-featured">
            <div class="pill pill-strong">Most popular</div>
            <h3>Half load</h3>
            <p class="price">From $320</p>
            <p>Great for garage, shed or mixed household rubbish.</p>
            <ul>
              <li>Includes loading &amp; sweep up</li>
              <li>Tip fees included</li>
              <li>Best value for typical jobs</li>
            </ul>
          </article>

          <article class="card card-pricing">
            <div class="pill pill-soft">Big cleanouts</div>
            <h3>Full load</h3>
            <p class="price">From $550</p>
            <p>For full property cleanouts and major declutters.</p>
            <ul>
              <li>Includes loading &amp; sweep up</li>
              <li>Tip fees included</li>
              <li>Multiple loads available</li>
            </ul>
          </article>
        </div>

        <p class="small align-center">
          Final price depends on access, type of material and total volume.
          Text us photos for a fast, no-obligation quote.
        </p>
      </div>
    </section>

    <!-- HOW IT WORKS ------------------------------------------->
    <section class="section">
      <div class="container">
        <div class="section-header">
          <h2>How it works</h2>
          <p>We keep it simple so you can get on with your day.</p>
        </div>

        <div class="grid-3 steps-grid">
          <article class="card step-card">
            <div class="step-number">1</div>
            <h3>Send us photos</h3>
            <p>Text or email photos of what you want gone ‚Äì or book a visit.</p>
          </article>

          <article class="card step-card">
            <div class="step-number">2</div>
            <h3>Get a clear quote</h3>
            <p>We confirm your price upfront. No hidden fees or surprise add-ons.</p>
          </article>

          <article class="card step-card">
            <div class="step-number">3</div>
            <h3>We load &amp; sweep up</h3>
            <p>On the day, we arrive on time, load everything and leave it tidy.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- GALLERY ------------------------------------------------->
    <section class="section section-light" id="gallery">
      <div class="container">
        <div class="section-header">
          <h2>Recent jobs we‚Äôve completed</h2>
          <p>Real jobs from Brisbane Southside &amp; Logan clients.</p>
        </div>

        <div class="gallery-grid">
          <figure class="gallery-item">
            <img src="images/green-waste.jpg" alt="Green waste cleanup after storm" />
            <figcaption>Green waste cleared and taken away.</figcaption>
          </figure>
          <figure class="gallery-item">
            <img src="images/storage-unit.jpg" alt="Storage unit rubbish removal job" />
            <figcaption>Storage unit completely emptied and swept.</figcaption>
          </figure>
          <figure class="gallery-item">
            <img src="images/gym-equipment.jpg" alt="Old gym equipment removal job" />
            <figcaption>Heavy gym equipment safely removed.</figcaption>
          </figure>
          <figure class="gallery-item">
            <img src="images/boxes-delivery.jpg" alt="Boxes and furniture loaded for delivery" />
            <figcaption>Boxes &amp; furniture picked up and delivered.</figcaption>
          </figure>
        </div>
      </div>
    </section>

    <!-- AREAS WE COVER ----------------------------------------->
   <section class="section section-dark">
       <div class="container">
        <div class="section-header">
          <h2>Areas we cover</h2>
          <p>Based on Brisbane Southside &amp; Logan, with flexible coverage nearby.</p>
        </div>

        <div class="areas-grid">
          <ul class="areas-list">
  <li>Rochedale South</li>
  <li>Rochedale</li>
  <li>Underwood</li>
  <li>Springwood</li>
  <li>Slacks Creek</li>
  <li>Daisy Hill</li>
  <li>Logan Central</li>
  <li>Woodridge</li>
  <li>Kingston</li>
  <li>Loganlea</li>
  <li>Marsden</li>
  <li>Crestmead</li>
  <li>Meadowbrook</li>
  <li>Heritage Park</li>
  <li>Hillcrest</li>
  <li>Regents Park</li>
  <li>Browns Plains</li>
  <li>Berrinba</li>
  <li>Shailer Park</li>
  <li>Tanah Merah</li>
  <li>Eight Mile Plains</li>
  <li>Kuraby</li>
  <li>Runcorn</li>
  <li>Sunnybank Hills</li>
  <li>Upper Mount Gravatt</li>
  <li>Wishart</li>
  <li>Carindale</li>
  <li>Carina Heights</li>
  <li>Holland Park</li>
  <li>Holland Park West</li>
  <li>Calamvale</li>
  <li>Parkinson</li>
  <li>Drewvale</li>
  <li>Algester</li>
  <li>Priestdale</li>
  <li>Burbank</li>
  <li>Capalaba</li>
  <li>Chandler</li>
  <li>And surrounding suburbs within ~20 km of Rochedale South</li>
</ul>

          <div class="areas-card card">
            <h3>Not sure if you‚Äôre in range?</h3>
            <p>Send us your address and a quick photo of what needs to go. We‚Äôll confirm if we can help and what it will cost.</p>
            <a href="sms:0459272402?&body=Hi%20RedBack,%20checking%20if%20I%27m%20in%20your%20service%20area."
               class="btn btn-outline">
              Text us your suburb
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- REVIEWS ------------------------------------------------->
    <section class="section section-cream" id="reviews">
      <div class="container">
        <div class="section-header">
          <h2>What our customers say</h2>
          <p>Real feedback from people we‚Äôve helped.</p>
        </div>

        <div class="grid-3 reviews-grid">
          <article class="card review-card">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>‚ÄúTurned up on time, cleared everything quickly and left the area spotless. Super friendly husband and wife and easy to deal with.‚Äù</p>
            <p class="review-name">‚Äî Mark W. - Waterford</p>
          </article>

          <article class="card review-card">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>‚ÄúUsed TJ for a rental cleanout. Great communication, fair price and the place looked 100x better afterwards.‚Äù</p>
            <p class="review-name">‚Äî Karen A. - Forest Lake</p>
          </article>

          <article class="card review-card">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>‚ÄúMade a big job feel easy. They loaded everything and swept up ‚Äì worth every dollar.‚Äù</p>
            <p class="review-name">‚Äî Andy S. - Kingston</p>
          </article>
        </div>
      </div>
    </section>

    <!-- CONTACT / FINAL CTA ------------------------------------>
    <section class="section section-dark" id="contact">
      <div class="container contact-grid">
        <div>
          <h2>Ready to clear the clutter?</h2>
          <p>Send us photos of your rubbish or give us a quick call. We‚Äôll come back with a clear, upfront quote.</p>

          <div class="contact-cta">
            <a href="tel:0459272402" class="btn btn-primary">üìû Call 0459 272 402</a>
            <a href="sms:0459272402?&body=Hi%20RedBack,%20I%27d%20like%20to%20text%20photos%20for%20a%20rubbish%20quote."
               class="btn btn-ghost-light">
              üì∑ Text photos for a quote
            </a>
          </div>

          <p class="small contact-note">
            Prefer to book online?
            <a href="https://clienthub.getjobber.com/booking/5f0fd976-744c-4acf-a6a6-15a7427f134c" target="_blank" rel="noopener">
              Click here to use our online booking form.
            </a>
          </p>
        </div>

        <div class="contact-details card">
          <h3>Business details</h3>
          <ul class="contact-list">
            <li><strong>Service area:</strong> Brisbane Southside &amp; Logan</li>
            <li><strong>Hours:</strong> Monday‚ÄìSaturday (flexible by appointment)</li>
            <li><strong>ABN:</strong> 54532714102</li>
            <li><strong>Email:</strong> <a href="mailto:info@redbackrubbishremoval.com">info@redbackrubbishremoval.com</a></li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER --------------------------------------------------->
  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="footer-left">
        <span>¬© <span id="year"></span> RedBack Rubbish Removal.</span>
        <span>No Mess ‚Äî No Stress.</span>
      </div>
      <div class="footer-right">
        <span>Brisbane Southside &amp; Logan</span>
      </div>
    </div>
  </footer>

  <script>
    // Simple year fill
    document.addEventListener('DOMContentLoaded', function () {
      var y = new Date().getFullYear();
      var el = document.getElementById('year');
      if (el) el.textContent = y;
    });
  </script>

  <!-- MOBILE STICKY BAR --------------------------------------->
  <div class="mobile-bar">
    <a href="tel:0459272402">Call</a>
    <a href="sms:0459272402?&body=Hi%20RedBack,%20I%27d%20like%20a%20rubbish%20removal%20quote.">Text photos</a>
    <a href="https://clienthub.getjobber.com/booking/5f0fd976-744c-4acf-a6a6-15a7427f134c" target="_blank" rel="noopener">Book online</a>
  </div>

    <!-- ================= REDBACK CHAT WIDGET v4.0 (FULLY LOADED) ================= -->
  <style>
    .rbx-chat-launcher {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 9999;
      background: #d7262d;
      color: #fff;
      border: none;
      padding: 12px 18px;
      border-radius: 999px;
      font-size: 15px;
      cursor: pointer;
      box-shadow: 0 10px 28px rgba(0,0,0,0.35);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      transition: transform 0.25s ease-out, box-shadow 0.25s ease-out;
    }

    .rbx-chat-launcher span {
      font-size: 13px;
      opacity: 0.9;
    }

    /* Entrance + idle glow */
    .rbx-chat-launcher.rbx-enter {
      animation: taiEntrance 0.7s ease-out 1, taiIdleGlow 4.5s ease-in-out infinite;
    }

    /* Attention wiggle on scroll */
    .rbx-chat-launcher.rbx-wiggle {
      animation: taiWiggle 0.8s ease-out 1, taiIdleGlow 4.5s ease-in-out infinite;
    }

    /* Desktop hover ‚Äì tiny lift */
    @media (hover: hover) and (pointer: fine) {
      .rbx-chat-launcher:hover {
        transform: translateY(-2px);
        box-shadow: 0 14px 34px rgba(0,0,0,0.5);
      }
    }

    /* Idle glow */
    @keyframes taiIdleGlow {
      0%, 100% {
        box-shadow: 0 10px 28px rgba(0,0,0,0.35);
      }
      50% {
        box-shadow: 0 14px 40px rgba(215,38,45,0.55);
      }
    }

    /* Entrance from bottom */
    @keyframes taiEntrance {
      0%   { transform: translateY(20px); opacity: 0; }
      60%  { transform: translateY(-3px); opacity: 1; }
      100% { transform: translateY(0); }
    }

    /* Little wiggle */
    @keyframes taiWiggle {
      0%   { transform: translateX(0); }
      20%  { transform: translateX(-3px); }
      40%  { transform: translateX(3px); }
      60%  { transform: translateX(-2px); }
      80%  { transform: translateX(2px); }
      100% { transform: translateX(0); }
    }

    .rbx-chat-panel {
      position: fixed;
      bottom: 80px;
      right: 20px;
      width: 320px;
      max-width: calc(100% - 32px);
      background: #111;
      color: #fff;
      border-radius: 20px;
      display: none;
      flex-direction: column;
      overflow: hidden;
      z-index: 9999;
      box-shadow: 0 20px 45px rgba(0,0,0,0.55);
      border: 1px solid rgba(255,255,255,0.1);
      transition: width 0.22s ease-out;
    }

    /* Wide mode (desktop only ‚Äì we'll override on mobile) */
    .rbx-chat-panel.rbx-wide {
      width: 420px;
      max-width: calc(100% - 32px);
    }

    @media (max-width: 720px) {
      .rbx-chat-launcher {
        bottom: 76px; /* sits nicely above mobile sticky bar */
        right: 14px;
      }

      .rbx-chat-panel,
      .rbx-chat-panel.rbx-wide {
        right: 10px;
        left: 10px;
        width: auto;
        bottom: 72px; /* above sticky footer */
      }
    }

    .rbx-chat-header {
      padding: 10px 14px;
      background: linear-gradient(135deg, #d7262d, #8e171b);
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 13px;
      gap: 8px;
    }

    .rbx-chat-header-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .rbx-chat-avatar {
      width: 26px;
      height: 26px;
      border-radius: 50%;
      background: #111;
      border: 2px solid #f5eee4;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
    }

    .rbx-chat-header-actions {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .rbx-chat-resize {
      background: rgba(0,0,0,0.18);
      border-radius: 999px;
      border: none;
      color: #fff;
      width: 22px;
      height: 22px;
      font-size: 13px;
      cursor: pointer;
      line-height: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .rbx-chat-close {
      background: rgba(0, 0, 0, 0.2);
      border: none;
      color: #fff;
      font-size: 18px;
      cursor: pointer;
      border-radius: 999px;
      width: 24px;
      height: 24px;
      line-height: 1;
    }

    .rbx-chat-messages {
      padding: 12px;
      max-height: 320px;
      overflow-y: auto;
      background: radial-gradient(circle at top left, #262626 0, #181818 48%, #141414 100%);
    }

    .rbx-msg {
      margin-bottom: 12px;
      display: flex;
    }

    .rbx-msg.user { justify-content: flex-end; }
    .rbx-msg.ai { justify-content: flex-start; }

    .rbx-bubble {
      padding: 10px 12px;
      border-radius: 14px;
      font-size: 13px;
      max-width: 80%;
      line-height: 1.35;
      white-space: pre-wrap;
      word-wrap: break-word;
    }

    .rbx-msg.user .rbx-bubble {
      background: #0283FF;
      color: #fff;
      border-bottom-right-radius: 4px;
    }

    .rbx-msg.ai .rbx-bubble {
      background: #1f1f1f;
      color: #fff;
      border-bottom-left-radius: 4px;
    }

    /* quick replies */
    .rbx-quick-wrapper {
      padding: 0 10px 4px;
      background: #101010;
      border-top: 1px solid rgba(255,255,255,0.06);
    }

    .rbx-quick-replies {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin: 8px 0 4px;
    }

    .rbx-quick-replies button {
      border: none;
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 11px;
      background: #1f1f1f;
      color: #f5eee4;
      cursor: pointer;
      white-space: nowrap;
      border: 1px solid rgba(255,255,255,0.08);
    }

    .rbx-quick-replies button:hover {
      background: #292929;
    }

    .rbx-chat-form {
      padding: 8px 10px 10px;
      background: #101010;
      border-top: 1px solid rgba(255,255,255,0.08);
      display: flex;
      gap: 6px;
    }

    .rbx-input {
      flex: 1;
      padding: 8px 12px;
      border-radius: 999px;
      background: #181818;
      border: 1px solid #333;
      color: #fff;
      font-size: 13px;
      outline: none;
    }

    .rbx-send {
      background: #d7262d;
      border: none;
      color: #fff;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 600;
    }

    .typing { opacity: 0.7; font-size: 12px; }

    .rbx-photo-btn {
      background: #222;
      color: #fff;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 11px;
      border: none;
      cursor: pointer;
      margin-bottom: 6px;
    }

        .rbx-link-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 6px 12px;
      margin-top: 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      background: #d7262d;
      color: #fff;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      white-space: nowrap;
    }

    .rbx-link-btn.secondary {
      background: #1f1f1f;
      border-color: rgba(255,255,255,0.22);
    }

    .rbx-link-btn:hover {
      filter: brightness(1.05);
    }


    /* animated typing dots */
    .rbx-dot {
      display: inline-block;
      width: 4px;
      height: 4px;
      margin-left: 2px;
      border-radius: 50%;
      background: #ffffff;
      opacity: 0.4;
      animation: taiDots 1.2s infinite;
    }

    .rbx-dot:nth-child(2) { animation-delay: 0.2s; }
    .rbx-dot:nth-child(3) { animation-delay: 0.4s; }

    @keyframes taiDots {
      0%, 100% { transform: translateY(0); opacity: 0.3; }
      50%      { transform: translateY(-2px); opacity: 1; }
    }
  </style>

  <button id="rbx-launcher" class="rbx-chat-launcher rbx-enter">
    üï∑Ô∏è <span>Chat with Tai</span>
  </button>

  <div id="rbx-panel" class="rbx-chat-panel">
    <div class="rbx-chat-header">
      <div class="rbx-chat-header-left">
        <div class="rbx-chat-avatar">üï∑Ô∏è</div>
        <span>Chat with Tai ¬∑ TJ &amp; Marika's team</span>
      </div>
      <div class="rbx-chat-header-actions">
        <button id="rbx-resize" class="rbx-chat-resize" title="Expand chat">‚§¢</button>
        <button id="rbx-close" class="rbx-chat-close">&times;</button>
      </div>
    </div>

    <div id="rbx-messages" class="rbx-chat-messages"></div>

    <div class="rbx-quick-wrapper">
      <button id="rbx-photo-btn" class="rbx-photo-btn">üì∏ Send photos for a quote</button>
      <div id="rbx-quick" class="rbx-quick-replies">
        <button type="button" data-text="Can I get your price list and how your load sizes work?">Price & load sizes</button>
        <button type="button" data-text="Which suburbs do you service?">Service areas</button>
        <button type="button"
          data-text="Can you please give me a full list of the main types of rubbish you can usually take, and anything you usually can‚Äôt take?">
          What can you take?
        </button>
        <button type="button" data-text="How soon could you come out to help me?">Earliest availability</button>
        <button type="button" data-text="What do you need from me to give a proper quote?">What do you need for a quote?</button>
        <button type="button" data-text="I'm ready to book a pickup. Can you run me through what you need to know?">I‚Äôm ready to book</button>
      </div>
    </div>

    <form id="rbx-form" class="rbx-chat-form">
      <input id="rbx-input" class="rbx-input" type="text"
             placeholder="Ask about rubbish, prices, suburbs..."
             autocomplete="off">
      <button id="rbx-send" class="rbx-send">Send</button>
    </form>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const API_URL = "https://tai-ai.crimson-meadow-d5c5.workers.dev";
      const phone = "0459272402";

      const STORAGE_KEY_HISTORY = "rbx_tai_history_v2";
      const STORAGE_KEY_MESSAGES = "rbx_tai_messages_v2";
      const STORAGE_KEY_WIDE = "rbx_tai_panel_wide";

      const launcher = document.getElementById("rbx-launcher");
      const panel = document.getElementById("rbx-panel");
      const closeBtn = document.getElementById("rbx-close");
      const resizeBtn = document.getElementById("rbx-resize");
      const messages = document.getElementById("rbx-messages");
      const input = document.getElementById("rbx-input");
      const form = document.getElementById("rbx-form");
      const photoBtn = document.getElementById("rbx-photo-btn");
      const quick = document.getElementById("rbx-quick");

      let history = [];

      // ----- tiny UI sounds (very subtle) -----
      let audioCtx = null;
      function playTone(freq, durationMs) {
        try {
          if (!audioCtx) {
            const AC = window.AudioContext || window.webkitAudioContext;
            if (!AC) return;
            audioCtx = new AC();
          }
          const osc = audioCtx.createOscillator();
          const gain = audioCtx.createGain();
          osc.type = "square";
          osc.frequency.value = freq;
          gain.gain.value = 0.06;
          osc.connect(gain);
          gain.connect(audioCtx.destination);
          osc.start();
          osc.stop(audioCtx.currentTime + durationMs / 1000);
        } catch (e) { /* ignore */ }
      }
      function playClick() { playTone(750, 60); }
      function playSendSound() { playTone(520, 80); }

      // ----- load saved chat -----
      try {
        const savedH = localStorage.getItem(STORAGE_KEY_HISTORY);
        const savedM = localStorage.getItem(STORAGE_KEY_MESSAGES);
        const wide = localStorage.getItem(STORAGE_KEY_WIDE);
        if (wide === "1") {
          panel.classList.add("rbx-wide");
        }

        if (savedH && savedM) {
          const parsed = JSON.parse(savedH);
          if (Array.isArray(parsed)) {
            history = parsed;
          }
          messages.innerHTML = savedM;
          if (messages.innerHTML.trim()) {
            messages.dataset.loaded = "1";
          }
        }
      } catch (e) {
        history = [];
      }

      function saveChat() {
        try {
          localStorage.setItem(STORAGE_KEY_HISTORY, JSON.stringify(history));
          localStorage.setItem(STORAGE_KEY_MESSAGES, messages.innerHTML);
        } catch (e) { /* ignore */ }
      }

      function showPanel() {
        panel.style.display = "flex";
        if (!messages.dataset.loaded) {
          const intro =
  "Hey, I‚Äôm Tai üëã\n" +
  "Ask me about quotes ‚Äì I‚Äôll get you sorted quicker than it takes TJ to load the trailer üòÇ\n" +
  "Tell me what you‚Äôre getting rid of + your suburb, you can send photos too.";

          addAI(intro);
          history.push({ role: "assistant", content: intro });
          messages.dataset.loaded = "1";
          saveChat();
        }
      }

      function hidePanel() { panel.style.display = "none"; }

      launcher.onclick = () => {
        playClick();
        if (panel.style.display === "flex") {
          hidePanel();
        } else {
          showPanel();
        }
      };
      closeBtn.onclick = hidePanel;

      if (resizeBtn) {
        resizeBtn.onclick = () => {
          panel.classList.toggle("rbx-wide");
          try {
            localStorage.setItem(
              STORAGE_KEY_WIDE,
              panel.classList.contains("rbx-wide") ? "1" : "0"
            );
          } catch (e) { /* ignore */ }
        };
      }

          function formatAiText(text) {
        // Basic escape so Tai can't accidentally inject HTML
        let safe = text
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;");

        // Turn bare line-breaks into <br> for nicer formatting
        safe = safe.replace(/\n/g, "<br>");

        // 1) SMS link ‚Üí "Text details to TJ & Marika" button
        // We assume Tai puts the sms link on its own line.
        safe = safe.replace(
          /(sms:[^\s<]+)/g,
          (_, href) =>
            `<button class="rbx-link-btn" data-href="${href}">üì≤ Text details to TJ &amp; Marika</button>`
        );

        // 2) Jobber booking link ‚Üí "Book online" button
        safe = safe.replace(
          /(https:\/\/clienthub\.getjobber\.com[^\s<]+)/g,
          (_, href) =>
            `<button class="rbx-link-btn secondary" data-href="${href}">üìù Book online</button>`
        );

        return safe;
      }

      function addAI(text) {
        const wrap = document.createElement("div");
        wrap.className = "rbx-msg ai";
        wrap.innerHTML = `<div class="rbx-bubble">${formatAiText(text)}</div>`;
        messages.appendChild(wrap);
        messages.scrollTop = messages.scrollHeight;
        saveChat();
      }


      function addUser(text) {
        const wrap = document.createElement("div");
        wrap.className = "rbx-msg user";
        wrap.innerHTML = `<div class="rbx-bubble">${text}</div>`;
        messages.appendChild(wrap);
        messages.scrollTop = messages.scrollHeight;
        saveChat();
      }

      function typing() {
        const el = document.createElement("div");
        el.className = "rbx-msg ai typing";
        el.innerHTML = `
          <div class="rbx-bubble">
            Tai is typing<span class="rbx-dot"></span><span class="rbx-dot"></span><span class="rbx-dot"></span>
          </div>`;
        messages.appendChild(el);
        messages.scrollTop = messages.scrollHeight;
        return el;
      }

      photoBtn.onclick = () => {
        playClick();
        window.location.href = `sms:${phone}?body=Hey RedBack, here are some photos for a quote:`;
      };

      async function sendMessage(txt) {
        if (!txt) return;

        addUser(txt);

        // history we send to the Worker = previous turns only
        const previous = history.slice();

        const loader = typing();
        try {
          const res = await fetch(API_URL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message: txt, history: previous })
          });
          const data = await res.json();
          loader.remove();
          addAI(data.reply);
          // Now update local history with this turn
          history.push({ role: "user", content: txt });
          history.push({ role: "assistant", content: data.reply });
          saveChat();
        } catch (err) {
          console.error(err);
          loader.remove();
          addAI("Ah sorry, Tai got tangled in a web üï∑Ô∏èüòÇ\\n" +
                "Give it another try in a moment, or text photos + your suburb to 0459 272 402 and TJ or Marika will sort a quote.");
        }
      }

      form.onsubmit = (e) => {
        e.preventDefault();
        const txt = (input.value || "").trim();
        if (!txt) return;
        input.value = "";
        playSendSound();
        sendMessage(txt);
      };

            // handle link buttons inside AI messages
      messages.addEventListener("click", (e) => {
        const btn = e.target.closest(".rbx-link-btn");
        if (!btn) return;
        const href = btn.getAttribute("data-href");
        if (!href) return;
        playClick();
        window.location.href = href;
      });


      // quick-reply chips
      if (quick) {
        quick.addEventListener("click", (e) => {
          const btn = e.target.closest("button[data-text]");
          if (!btn) return;
          const txt = btn.getAttribute("data-text") || "";
          if (!txt) return;
          playSendSound();
          sendMessage(txt);
        });
      }

      // one-time wiggle when user scrolls (if chat not opened yet)
      let wiggleDone = false;
      window.addEventListener("scroll", () => {
        if (wiggleDone || panel.style.display === "flex") return;
        wiggleDone = true;
        launcher.classList.remove("rbx-enter");
        launcher.classList.add("rbx-wiggle");
        setTimeout(() => {
          launcher.classList.remove("rbx-wiggle");
          launcher.classList.add("rbx-enter");
        }, 900);
      }, { passive: true });
    });
  </script>
  <!-- ================= END WIDGET ================= -->


