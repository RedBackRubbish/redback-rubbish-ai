<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>RedBack Rubbish Removal | Brisbane Southside & Logan</title>

  <meta name="description"
        content="Family-run rubbish removal in Brisbane Southside & Logan. We load it, we sweep up, and we dispose of it for you. No Mess ‚Äî No Stress." />

  <!-- Favicon / Logo -->
  <link rel="icon" type="images/logo.png" href="images/logo.png" />

  <!-- Open Graph -->
  <meta property="og:title" content="RedBack Rubbish Removal" />
  <meta property="og:description" content="No Mess ‚Äî No Stress. Rubbish removal done for you in Brisbane Southside & Logan." />
  <meta property="og:image" content="images/logo.png" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://redbackrubbishremoval.com/" />

  <link rel="stylesheet" href="CSS/styles.css" />
</head>
<body>
  <!-- HEADER ---------------------------------------------------->
  <header class="site-header">
    <div class="container header-inner">
      <a href="#top" class="brand">
        <img src="images/logo.png" alt="RedBack Rubbish Removal logo" class="brand-logo">
        <div class="brand-text">
          <span class="brand-name">RedBack Rubbish Removal</span>
          <span class="brand-sub">Brisbane Southside &amp; Logan</span>
        </div>
      </a>

      <div class="header-actions">
        <div class="header-contact">
          <!-- TODO: Replace with your real phone number -->
          <span class="header-label">Call us</span>
          <a href="tel:0459272402" class="header-phone">0459 272 402</a>
        </div>
        <div class="header-buttons">
          <!-- TODO: Replace sms: number -->
          <a href="sms:0459272402?&body=Hi%20RedBack,%20I%27d%20like%20a%20rubbish%20removal%20quote."
             class="btn btn-ghost">
            Text photos for quote
          </a>
          <!-- TODO: Replace href with your real Jobber booking link -->
          <a href="https://https://clienthub.getjobber.com/booking/5f0fd976-744c-4acf-a6a6-15a7427f134c"
             class="btn btn-primary" target="_blank" rel="noopener">
            Book online
          </a>
        </div>
      </div>
    </div>
  </header>

  <main id="top">
    <!-- HERO --------------------------------------------------->
    <section class="section hero">
      <div class="container hero-grid">
        <div class="hero-content">
          <span class="pill pill-light">Family-run ‚Ä¢ Fully insured ‚Ä¢ Local tradies</span>

          <h1>Rubbish removal done for you ‚Äì fast, friendly &amp; affordable.</h1>

          <p class="hero-sub">
            We load it, we sweep up, and we dispose of it properly.  
            You get your space back ‚Äì with <strong>No Mess ‚Äî No Stress.</strong>
          </p>

          <div class="hero-cta">
            <!-- TODO: Replace tel: and sms: with real number -->
            <a href="tel:0459272402" class="btn btn-primary">üìû Call now</a>
            <a href="sms:0459272402?&body=Hi%20RedBack,%20I%27d%20like%20to%20text%20photos%20for%20a%20quote."
               class="btn btn-outline">
              üì∑ Text photos for a quote
            </a>
          </div>

          <div class="hero-trust">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <div class="trust-copy">
              <p>Trusted by Brisbane Southside &amp; Logan locals.</p>
              <p class="small">On-time, uniformed &amp; respectful in your home or workplace.</p>
            </div>
          </div>
        </div>

        <div class="hero-image-card">
          <!-- TODO: Replace with real hero photo -->
          <div class="hero-photo-frame">
            <img src="images/hero-trailer.jpg"
                 alt="RedBack team loading rubbish into trailer" />
          </div>
          <div class="hero-badge">
            <span class="hero-badge-title">Same-day options</span>
            <span class="hero-badge-text">If it fits in the trailer ‚Äî we take it.</span>
          </div>
        </div>
      </div>
    </section>

    <!-- WHY / TRUST -------------------------------------------->
    <section class="section section-light">
      <div class="container">
        <div class="section-header">
          <h2>Why locals choose RedBack</h2>
          <p>We treat every job like it‚Äôs our own place ‚Äì fast, tidy, and respectful.</p>
        </div>

        <div class="grid-4">
          <article class="card">
            <h3>Family-run &amp; local</h3>
            <p>You‚Äôre dealing directly with a Brisbane Southside &amp; Logan family business ‚Äì not a big franchise.</p>
          </article>
          <article class="card">
            <h3>We do the heavy lifting</h3>
            <p>We load, lift, carry and sweep up so you don‚Äôt have to touch a thing.</p>
          </article>
          <article class="card">
            <h3>Clear upfront pricing</h3>
            <p>Trailer load pricing with no hidden fees. Tip fees included in your quote.</p>
          </article>
          <article class="card">
            <h3>Fully insured &amp; uniformed</h3>
            <p>Professional appearance, fully insured, and respectful on every property.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- SERVICES ----------------------------------------------->
    <section class="section">
      <div class="container">
        <div class="section-header">
          <h2>Rubbish removal services</h2>
          <p>From single items to full cleanouts ‚Äì if it fits in our trailer, we‚Äôll handle it.</p>
        </div>

        <div class="grid-3">
          <article class="card service-card">
            <h3>Household cleanouts</h3>
            <p>Old furniture, broken appliances, general household junk and more.</p>
            <ul>
              <li>Garage &amp; shed cleanouts</li>
              <li>End-of-lease rubbish</li>
              <li>Deceased estate support</li>
            </ul>
          </article>

          <article class="card service-card">
            <h3>Yard &amp; green waste</h3>
            <p>Branches, clippings, old timber, outdoor junk and garden waste.</p>
            <ul>
              <li>Storm cleanups</li>
              <li>Overgrown yard clear-outs</li>
              <li>Outdoor furniture removal</li>
            </ul>
          </article>

          <article class="card service-card">
            <h3>Real estate &amp; rentals</h3>
            <p>Fast, reliable service for agents, landlords and body corporates.</p>
            <ul>
              <li>Pre-sale cleanups</li>
              <li>Post-tenant rubbish removal</li>
              <li>Garage &amp; storage unit clear-outs</li>
            </ul>
          </article>
        </div>

        <div class="grid-3 services-extra">
          <article class="card service-card">
            <h3>Office &amp; commercial</h3>
            <p>Old desks, shelving, shop fittings and general commercial waste.</p>
          </article>

          <article class="card service-card">
            <h3>A ‚Üí B item delivery</h3>
            <p>Need something moved from A to B? If it fits in the trailer, we can shift it.</p>
            <p class="small">Great for marketplace or bulky-item purchases.</p>
          </article>

          <article class="card service-card">
            <h3>Custom jobs</h3>
            <p>Not sure if we can take it? Just send us a photo and we‚Äôll confirm.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- PRICING ------------------------------------------------->
    <section class="section section-cream" id="pricing">
      <div class="container">
        <div class="section-header">
          <h2>Simple trailer-load pricing</h2>
          <p>Honest, upfront pricing based on how much space your rubbish takes in our trailer.</p>
        </div>

        <div class="grid-3 pricing-grid">
          <article class="card card-pricing">
            <div class="pill pill-soft">Light loads</div>
            <h3>Quarter load</h3>
            <p class="price">From $___</p>
            <p>Perfect for a few bulky items or a small cleanout.</p>
            <ul>
              <li>Includes loading &amp; sweep up</li>
              <li>Tip fees included</li>
              <li>Ideal for single rooms or light jobs</li>
            </ul>
          </article>

          <article class="card card-pricing card-pricing-featured">
            <div class="pill pill-strong">Most popular</div>
            <h3>Half load</h3>
            <p class="price">From $___</p>
            <p>Great for garage, shed or mixed household rubbish.</p>
            <ul>
              <li>Includes loading &amp; sweep up</li>
              <li>Tip fees included</li>
              <li>Best value for typical jobs</li>
            </ul>
          </article>

          <article class="card card-pricing">
            <div class="pill pill-soft">Big cleanouts</div>
            <h3>Full load</h3>
            <p class="price">From $___</p>
            <p>For full property cleanouts and major declutters.</p>
            <ul>
              <li>Includes loading &amp; sweep up</li>
              <li>Tip fees included</li>
              <li>Multiple loads available</li>
            </ul>
          </article>
        </div>

        <p class="small align-center">
          Final price depends on access, type of material and total volume.  
          Text us photos for a fast, no-obligation quote.
        </p>
      </div>
    </section>

    <!-- HOW IT WORKS ------------------------------------------->
    <section class="section">
      <div class="container">
        <div class="section-header">
          <h2>How it works</h2>
          <p>We keep it simple so you can get on with your day.</p>
        </div>

        <div class="grid-3 steps-grid">
          <article class="card step-card">
            <div class="step-number">1</div>
            <h3>Send us photos</h3>
            <p>Text or email photos of what you want gone ‚Äì or book a visit.</p>
          </article>

          <article class="card step-card">
            <div class="step-number">2</div>
            <h3>Get a clear quote</h3>
            <p>We confirm your price upfront. No hidden fees or surprise add-ons.</p>
          </article>

          <article class="card step-card">
            <div class="step-number">3</div>
            <h3>We load &amp; sweep up</h3>
            <p>On the day, we arrive on time, load everything and leave it tidy.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- GALLERY ------------------------------------------------->
    <section class="section section-light" id="gallery">
      <div class="container">
        <div class="section-header">
          <h2>Before &amp; after results</h2>
          <p>Real jobs from Brisbane Southside &amp; Logan clients.</p>
        </div>

        <div class="gallery-grid">
          <!-- TODO: Replace these image paths with your real before/after photos -->
          <figure class="gallery-item">
            <img src="images/storage-unit.jpg" alt="Garage rubbish removal before and after" />
            <figcaption>Garage cleared and swept.</figcaption>
          </figure>
          <figure class="gallery-item">
            <img src="images/green-waste.jpg" alt="Yard rubbish removal before and after" />
            <figcaption>Backyard junk removed.</figcaption>
          </figure>
          <figure class="gallery-item">
            <img src="images/gym-equipment.jpg" alt="Household rubbish removal before and after" />
            <figcaption>Household declutter done.</figcaption>
          </figure>
        </div>
      </div>
    </section>

    <!-- AREAS WE COVER ----------------------------------------->
    <section class="section">
      <div class="container">
        <div class="section-header">
          <h2>Areas we cover</h2>
          <p>Based on Brisbane Southside &amp; Logan, with flexible coverage nearby.</p>
        </div>

        <div class="areas-grid">
          <ul class="areas-list">
            <li>Logan</li>
            <li>Logan Central</li>
            <li>Browns Plains</li>
            <li>Underwood</li>
            <li>Springwood</li>
            <li>Slacks Creek</li>
            <li>Rochedale South</li>
            <li>And surrounding suburbs</li>
          </ul>
          <div class="areas-card card">
            <h3>Not sure if you‚Äôre in range?</h3>
            <p>Send us your address and a quick photo of what needs to go. We‚Äôll confirm if we can help and what it will cost.</p>
            <!-- TODO: Update sms: number -->
            <a href="sms:0400000000?&body=Hi%20RedBack,%20checking%20if%20I%27m%20in%20your%20service%20area."
               class="btn btn-outline">
              Text us your suburb
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- REVIEWS ------------------------------------------------->
    <section class="section section-cream" id="reviews">
      <div class="container">
        <div class="section-header">
          <h2>What our customers say</h2>
          <p>Real feedback from people we‚Äôve helped.</p>
        </div>

        <div class="grid-3 reviews-grid">
          <article class="card review-card">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>‚ÄúTurned up on time, cleared everything quickly and left the area spotless. Super friendly and easy to deal with.‚Äù</p>
            <p class="review-name">‚Äî Local homeowner</p>
          </article>

          <article class="card review-card">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>‚ÄúUsed them for a rental cleanout. Great communication, fair price and the place looked 100x better afterwards.‚Äù</p>
            <p class="review-name">‚Äî Property manager</p>
          </article>

          <article class="card review-card">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>‚ÄúMade a big job feel easy. They loaded everything and swept up ‚Äì worth every dollar.‚Äù</p>
            <p class="review-name">‚Äî Busy family</p>
          </article>
        </div>
      </div>
    </section>

    <!-- CONTACT / FINAL CTA ------------------------------------>
    <section class="section section-dark" id="contact">
      <div class="container contact-grid">
        <div>
          <h2>Ready to clear the clutter?</h2>
          <p>Send us photos of your rubbish or give us a quick call. We‚Äôll come back with a clear, upfront quote.</p>

          <div class="contact-cta">
            <!-- TODO: Replace tel: and sms: -->
            <a href="tel:0459272402" class="btn btn-primary">üìû Call 0400 000 000</a>
            <a href="sms:0459272402?&body=Hi%20RedBack,%20I%27d%20like%20to%20text%20photos%20for%20a%20rubbish%20quote."
               class="btn btn-ghost-light">
              üì∑ Text photos for a quote
            </a>
          </div>

          <p class="small contact-note">
            Prefer to book online?  
            <!-- TODO: Replace with real Jobber link -->
            <a href="https://YOUR_JOBBER_BOOKING_URL_HERE" target="_blank" rel="noopener">
              Click here to use our online booking form.
            </a>
          </p>
        </div>

        <div class="contact-details card">
          <h3>Business details</h3>
          <ul class="contact-list">
            <li><strong>Service area:</strong> Brisbane Southside &amp; Logan</li>
            <li><strong>Hours:</strong> Monday‚ÄìSaturday (flexible by appointment)</li>
            <li><strong>ABN:</strong> Your ABN here</li>
            <li><strong>Email:</strong> <a href="mailto:info@redbackrubbishremoval.com">info@redbackrubbishremoval.com</a></li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER --------------------------------------------------->
  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="footer-left">
        <span>¬© <span id="year"></span> RedBack Rubbish Removal.</span>
        <span>No Mess ‚Äî No Stress.</span>
      </div>
      <div class="footer-right">
        <span>Brisbane Southside &amp; Logan</span>
      </div>
    </div>
  </footer>

  <script>
    // Simple current year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>

  <!-- MOBILE STICKY BAR --------------------------------------->
  <div class="mobile-bar">
    <!-- TODO: Replace tel: and sms: and Jobber link -->
    <a href="tel:0459272402">Call</a>
    <a href="sms:0459272402?&body=Hi%20RedBack,%20I%27d%20like%20a%20rubbish%20removal%20quote.">Text photos</a>
    <a href="https://YOUR_JOBBER_BOOKING_URL_HERE" target="_blank" rel="noopener">Book online</a>
  </div>
</body>
</html>

  <script>
    // Tai front-end ‚Äì talks to Cloudflare Worker + smart fallback
    document.addEventListener('DOMContentLoaded', function () {
      const widget = document.querySelector('.mascot-widget');
      if (!widget) return;

      const toggle = widget.querySelector('.mascot-toggle');
      const panel = widget.querySelector('.mascot-chat');
      const closeBtn = widget.querySelector('.mascot-chat-close');
      const chatLog = widget.querySelector('#tai-chat-log');
      const inputEl = widget.querySelector('#tai-chat-input');
      const sendBtn = widget.querySelector('#tai-chat-send');
      const hint = widget.querySelector('.mascot-bubble');
      const avatarImg = widget.querySelector('.mascot-toggle img');

      const TAI_ENDPOINT =
        'https://tai-ai.crimson-meadow-d5c5.workers.dev';

      let isSending = false;
      const conversationHistory = [];

      // --- helpers for actions from phrases ---
      function openSmsQuoteHelper() {
        const input = document.getElementById('suburb-input');
        const suburb = input ? input.value.trim() : '';
        let base = "Hey RedBack, I'm after a rubbish removal quote";
        if (suburb) base += ' in ' + suburb;
        base += '. I have some photos to send.';
        const encoded = encodeURIComponent(base);
        window.location.href = 'sms:0459272402?&body=' + encoded;
      }

      function scrollToBooking() {
        const book = document.getElementById('book-quote');
        if (!book) return;
        book.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }

      function openPhoneDialler() {
        window.location.href = 'tel:0459272402';
      }

      // --- panel open/close ---
      function isOpen() {
        return panel && panel.classList.contains('is-open');
      }
      function openPanel() {
        if (!panel) return;
        panel.classList.add('is-open');
        widget.classList.add('chat-open');
      }
      function closePanel() {
        if (!panel) return;
        panel.classList.remove('is-open');
        widget.classList.remove('chat-open');
      }

      if (toggle) {
        toggle.addEventListener('click', function () {
          isOpen() ? closePanel() : openPanel();
        });
      }
      if (closeBtn) closeBtn.addEventListener('click', closePanel);
      if (hint) hint.addEventListener('click', openPanel);

      // --- fake eye tracking ---
      if (avatarImg) {
        window.addEventListener('mousemove', function (e) {
          const mid = window.innerWidth / 2;
          if (e.clientX < mid - 60) {
            avatarImg.classList.add('mascot-look-left');
            avatarImg.classList.remove('mascot-look-right');
          } else if (e.clientX > mid + 60) {
            avatarImg.classList.add('mascot-look-right');
            avatarImg.classList.remove('mascot-look-left');
          } else {
            avatarImg.classList.remove(
              'mascot-look-left',
              'mascot-look-right'
            );
          }
        });
      }

      // --- chat DOM helpers ---
      function scrollToBottom() {
        if (!chatLog) return;
        chatLog.scrollTop = chatLog.scrollHeight;
      }

      function escapeHtml(str) {
        return String(str)
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;');
      }

      function linkifySms(text) {
        const safe = escapeHtml(text);
        const phonePattern = /0459 272 402/g;
        return safe.replace(
          phonePattern,
          '<a href="sms:0459272402" class="tai-sms-link">0459 272 402</a>'
        );
      }

      function addMessage(text, who = 'tai') {
        if (!chatLog || !text) return;

        const msg = document.createElement('div');
        const roleClass =
          who === 'user' ? 'mascot-msg-user' : 'mascot-msg-tai';
        msg.className = 'mascot-msg ' + roleClass;

        const p = document.createElement('p');
        p.innerHTML = linkifySms(text);
        msg.appendChild(p);

        const time = document.createElement('span');
        time.className = 'msg-time';
        time.textContent = new Date().toLocaleTimeString([], {
          hour: 'numeric',
          minute: '2-digit'
        });
        msg.appendChild(time);

        chatLog.appendChild(msg);
        scrollToBottom();
        return msg;
      }

      function setLoading(loading) {
        isSending = loading;
        if (sendBtn) sendBtn.disabled = loading;
        if (inputEl) inputEl.disabled = loading;
      }

      // --- simple intent + fallback brain (mirrors Worker rules) ---
      function getIntent(textLower) {
        const t = textLower;
        const hasAny = (...words) => words.some(w => t.includes(w));

        if (
          hasAny('price', 'cost', 'how much', 'pricing', 'quote')
        )
          return 'pricing';
        if (
          hasAny(
            'a to b',
            'a‚Üíb',
            'a-b',
            'delivery',
            'pick up',
            'pickup',
            'drop off'
          )
        )
          return 'ab_move';
        if (
          hasAny(
            'area',
            'suburb',
            'where do you go',
            'service area',
            'service areas',
            'do you come'
          )
        )
          return 'areas';
        if (
          hasAny(
            'what do you take',
            'what you take',
            'do you take',
            'rubbish',
            'junk',
            'furniture',
            'green waste'
          )
        )
          return 'what_we_take';
        if (
          hasAny(
            'can you take',
            'can u take',
            "don't take",
            'cant take',
            'asbestos',
            'chemicals',
            'paint',
            'tyre',
            'mattress recycling'
          )
        )
          return 'what_we_dont_take';
        if (
          hasAny(
            'book',
            'booking',
            'reserve',
            'schedule',
            'appointment',
            'online form',
            'quote form'
          )
        )
          return 'booking';
        if (hasAny('call', 'ring', 'phone', 'talk to someone'))
          return 'call';
        if (hasAny('text', 'sms', 'message', 'photo', 'photos'))
          return 'sms';
        if (
          hasAny(
            'time',
            'when are you open',
            'opening hours',
            'what time',
            'same day',
            'today'
          )
        )
          return 'timing';
        if (
          hasAny('abn', 'business number', 'registered', 'legit')
        )
          return 'abn';
        if (
          hasAny(
            'pay',
            'payment',
            'cash',
            'card',
            'eftpos',
            'bank transfer',
            'how do i pay',
            'invoice'
          )
        )
          return 'payment';
        if (
          hasAny(
            'tip fees',
            'tipping fees',
            'dump fees',
            'dump fees included',
            'council fees'
          )
        )
          return 'tip_fees';
        if (
          hasAny(
            'who are you',
            'about you',
            'about us',
            'family',
            'who runs',
            'who owns'
          )
        )
          return 'about';
        if (
          hasAny('reviews', 'google review', 'rating', 'testimonials')
        )
          return 'reviews';

        return 'general';
      }

      function getFallbackReply(text) {
        const q = (text || '').toLowerCase();
        const intent = getIntent(q);

        conversationHistory.push(text);
        if (conversationHistory.length > 5) conversationHistory.shift();

        switch (intent) {
          case 'pricing':
            return (
              'For most jobs we price by trailer load, and we always confirm the price before we start loading.\n\n' +
              '‚Ä¢ Small loads from about $150 (incl. GST)\n' +
              '‚Ä¢ Half loads from around $330 (incl. GST)\n' +
              '‚Ä¢ Full trailer loads from about $550 (incl. GST)\n\n' +
              'If you text a couple of photos and your suburb to 0459 272 402 I can give you a firm quote for your exact job.'
            );
          case 'areas':
            return (
              'We‚Äôre based on the Brisbane Southside & Logan.\n\n' +
              'Most of our work is around places like Rochedale South, Springwood, Underwood, Slacks Creek, Daisy Hill and surrounding suburbs.\n\n' +
              'If you‚Äôre a bit outside that, send your suburb with a photo of the load and I‚Äôll let you know if we can do it or recommend another option.'
            );
          case 'what_we_take':
            return (
              'We take most general household and light commercial junk, including:\n\n' +
              '‚Ä¢ Old furniture, mattresses, lounges and whitegoods\n' +
              '‚Ä¢ Garage, shed and gym clean-outs (boxes, tools, weights, equipment)\n' +
              '‚Ä¢ Green waste ‚Äì branches, palm fronds, yard clean-ups\n' +
              '‚Ä¢ Small A‚ÜíB moves for couches, bulky items and boxes\n\n' +
              'If you‚Äôre unsure about a specific item, describe it or send a photo and I‚Äôll tell you straight away.'
            );
          case 'what_we_dont_take':
            return (
              'There are a few things we can‚Äôt take for safety and licensing reasons:\n\n' +
              '‚Ä¢ Asbestos or anything that might contain asbestos\n' +
              '‚Ä¢ Loose chemicals, paints, fuels, oils or gas bottles\n' +
              '‚Ä¢ Hazardous or medical waste\n\n' +
              'For those you‚Äôll usually need a specialist hazardous-waste service or council drop-off. For normal household and yard junk though, we‚Äôve got you covered.'
            );
          case 'ab_move':
            return (
              'Our A‚ÜíB moves are for small household loads where you don‚Äôt need a full-scale removalist.\n\n' +
              'Typical jobs:\n' +
              '‚Ä¢ Marketplace / Gumtree / Facebook pickups\n' +
              '‚Ä¢ Couches, fridges, beds and a few boxes\n' +
              '‚Ä¢ Short moves between local suburbs\n\n' +
              'Pricing for small A‚ÜíB moves starts from around $100 (incl. GST) depending on distance and how many items. ' +
              'Send the pickup + drop-off suburbs and a rough list or photos and I can help estimate it.'
            );
          case 'booking':
            return (
              'You‚Äôve got a few easy ways to book:\n\n' +
              '1) Text photos and your suburb to 0459 272 402 for a fast quote.\n' +
              '2) Use the online booking / quote form further down this page (I can scroll you there).\n' +
              '3) Call 0459 272 402 if you‚Äôd rather talk it through.\n\n' +
              'If you like, say ‚Äútake me to the booking form‚Äù and I‚Äôll scroll there for you.'
            );
          case 'call':
            return (
              'No worries ‚Äì you can call the team on 0459 272 402.\n\n' +
              'If you tap this on your phone, it should open your dialler. I‚Äôll still be here if you come back with more questions.'
            );
          case 'sms':
            return (
              'Best way to get a solid price is to text a couple of photos and your suburb to 0459 272 402.\n\n' +
              'If you‚Äôre on your phone, type something like ‚Äútext quote‚Äù or tap the big red button under the hero and I‚Äôll help open your SMS app with a message pre-filled.'
            );
          case 'timing':
            return (
              'We work normal tradie-style hours and try to be flexible for families:\n\n' +
              '‚Ä¢ Weekdays during the day\n' +
              '‚Ä¢ Some Saturdays depending on the schedule\n\n' +
              'Same-day or next-day jobs are often possible if you get in touch early and we‚Äôre nearby. ' +
              'Send your suburb, photos and any timing restrictions and I‚Äôll let you know what we can do.'
            );
          case 'abn':
            return (
              'RedBack Rubbish Removal is a legit registered Australian business.\n\n' +
              '‚Ä¢ ABN: 54532714102\n' +
              '‚Ä¢ Family owned & operated on the Brisbane Southside\n' +
              '‚Ä¢ Fully insured for rubbish removal work\n\n' +
              'We treat your place like our own and keep communication clear the whole way through.'
            );
          case 'payment':
            return (
              'Most jobs are paid on completion once you‚Äôre happy.\n\n' +
              'We can usually take:\n' +
              '‚Ä¢ Cash\n' +
              '‚Ä¢ Bank transfer\n' +
              '‚Ä¢ Card via invoice / app (where available)\n\n' +
              'For bigger or specialised jobs we might ask for a deposit, but we‚Äôll always tell you upfront before locking anything in.'
            );
          case 'tip_fees':
            return (
              'For standard household loads, normal tip fees are already built into the price we quote you.\n\n' +
              'If there‚Äôs anything unusually heavy or specialised (for example big loads of concrete or tiles) we‚Äôll explain any extra disposal costs before we start so there are no surprises.'
            );
          case 'about':
            return (
              'RedBack is a local family-run rubbish removal business on the Brisbane Southside & Logan.\n\n' +
              'You‚Äôre dealing directly with the owners ‚Äì not a giant franchise. We show up on time, in uniform, load everything, sweep up and keep you updated by SMS so you‚Äôre never guessing where we‚Äôre at.'
            );
          case 'reviews':
            return (
              'We‚Äôre focused on building long-term local relationships, so we work hard for every 5‚òÖ review.\n\n' +
              'Right now a lot of our feedback comes through direct messages, repeat clients and referrals. ' +
              'As we grow, we‚Äôll keep adding more public reviews and before/after examples so you can see the work for yourself.'
            );
          case 'general':
          default:
            return (
              'I‚Äôm Tai, the Lil RedBack on this page. I can help you with:\n\n' +
              '‚Ä¢ Rough pricing and what‚Äôs included\n' +
              '‚Ä¢ What we can and can‚Äôt take\n' +
              '‚Ä¢ Whether we come to your suburb\n' +
              '‚Ä¢ How booking works (text, form or call)\n\n' +
              'If you want a quick quote, tell me what you‚Äôre trying to get rid of and what suburb you‚Äôre in, or just text photos to 0459 272 402.'
            );
        }
      }

      // --- send logic (uses Worker + fallback brain) ---
      async function sendToTai(rawText, opts = {}) {
        const text = (rawText || '').trim();
        if (!text || isSending) return;

        if (!opts.silentUser) addMessage(text, 'user');
        if (!opts.skipInputClear && inputEl) inputEl.value = '';

        const lower = text.toLowerCase();

        if (
          lower.includes('text quote') ||
          lower.includes('text photos') ||
          lower.includes('sms')
        ) {
          openSmsQuoteHelper();
        }
        if (
          lower.includes('booking form') ||
          lower.includes('book me in') ||
          lower.includes('scroll to booking')
        ) {
          scrollToBooking();
        }
        if (
          lower.includes('call you') ||
          lower.includes('ring you') ||
          lower.includes('phone you')
        ) {
          openPhoneDialler();
        }

        conversationHistory.push(text);
        if (conversationHistory.length > 8) conversationHistory.shift();

        if (!TAI_ENDPOINT) {
          addMessage(getFallbackReply(text), 'tai');
          return;
        }

        setLoading(true);

        const typingMsg = document.createElement('div');
        typingMsg.className =
          'mascot-msg mascot-msg-tai mascot-msg-typing';

        const dots = document.createElement('div');
        dots.className = 'mascot-typing-dots';
        dots.innerHTML = '<span></span><span></span><span></span>';

        typingMsg.appendChild(dots);
        chatLog.appendChild(typingMsg);
        scrollToBottom();

        try {
          let reply = '';

          try {
            const res = await fetch(TAI_ENDPOINT, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({
                message: text,
                history: conversationHistory.slice(-8)
              })
            });

            if (res.ok) {
              const data = await res.json();
              if (data && typeof data.reply === 'string') {
                reply = data.reply.trim();
              }
            } else {
              console.error('Tai API HTTP error:', res.status);
            }
          } catch (err) {
            console.error('Tai API fetch failed:', err);
          }

          if (!reply) {
            reply = getFallbackReply(text);
          }

          typingMsg.remove();
          addMessage(reply, 'tai');
        } catch (err) {
          console.error('Tai API error:', err);
          typingMsg.remove();
          addMessage(getFallbackReply(text), 'tai');
        } finally {
          setLoading(false);
          if (inputEl && !opts.noRefocus) inputEl.focus();
        }
      }

      // --- send button + Enter key ---
      if (sendBtn && inputEl) {
        sendBtn.addEventListener('click', function () {
          const value = inputEl.value.trim();
          if (!value) return;
          sendToTai(value);
        });

        inputEl.addEventListener('keydown', function (e) {
          if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            const value = inputEl.value.trim();
            if (!value) return;
            sendToTai(value);
          }
        });
      }

      // --- scroll-based hint text ---
      const pricing = document.getElementById('pricing');
      const booking = document.getElementById('book-quote');

      function updateContext() {
        if (!hint) return;
        let context = '';
        const mid = window.innerHeight / 2;

        if (pricing) {
          const r1 = pricing.getBoundingClientRect();
          if (r1.top < mid && r1.bottom > mid)
            context = 'Not sure on price? Ask me.';
        }
        if (!context && booking) {
          const r2 = booking.getBoundingClientRect();
          if (r2.top < mid && r2.bottom > mid)
            context = 'Need help booking? Ask me.';
        }
        if (!context)
          context = 'üëã Hey I‚Äôm Tai ‚Äî Tap to chat!';

        hint.textContent = context;
        if (!isOpen()) hint.classList.add('has-text');
        else hint.classList.remove('has-text');
      }

      window.addEventListener('scroll', updateContext);
      window.addEventListener('resize', updateContext);
      updateContext();

      // --- one-time auto-greeting ---
      let greeted = false;
      try {
        greeted =
          window.sessionStorage.getItem('rb_mascot_greeted') ===
          'yes';
      } catch (e) {}

      if (!greeted) {
        addMessage(
          'Hi, I‚Äôm Tai from RedBack. Ask me about prices, what we take or how booking works and I‚Äôll keep it simple.',
          'tai'
        );
        try {
          window.sessionStorage.setItem('rb_mascot_greeted', 'yes');
        } catch (e) {}
      }
    });
  </script>
</body>
</html>
